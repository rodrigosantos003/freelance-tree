<!DOCTYPE html>
<html lang="pt">

<head>
    <!-- META TAGS -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS FILES -->
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <link rel="stylesheet" type="text/css" href="../css/menu.css">
    <link rel="stylesheet" type="text/css" href="../css/categories.css">
    <link rel="stylesheet" type="text/css" href="../css/media_queries.css">

    <!-- SITE IDENTITY -->
    <link rel="icon" href="../img/freelancetree_icon.png">
    <title>Freelance Tree - Categoria Programação & Tech</title>
</head>

<body>
    <!-- NAVIGATION BAR -->
    <nav class="menu" id="navbar">
        <a href="../login.html">Entrar</a>
        <a href="../signup.html">Registar</a>
        <div class="submenu">
            <button class="submenubtn">Categorias &darr;</button>
            <nav class="submenu-items" id="subnav">
                <a href="digital_marketing.html">Marketing Digital</a>
                <a href="graphics_design.html">Gráficos & Design</a>
                <a href="music_audio.html">Música & Áudio</a>
                <a href="video_animation.html">Vídeo & Animação</a>
                <a href="writing.html">Escrita & Redação</a>
                <a href="programming_tech.html">Programação & Tech</a>
                <a href="business.html">Negócios</a>
                <a href="data.html">Dados</a>
            </nav>
        </div>
        <a href="../index.html">Início</a>
    </nav>

    <!-- TITLE -->
    <header>
        <h1>Freelance Tree</h1>
    </header>

    <!-- MAIN CONTENT -->
    <main>
        <section class="categories">
            <h2>Categoria Programação & Tech</h2>
            class="cards" id="cards">
            <script>
                let accounts = [];
                let offers = [];

                for (let i = 1; i <= localStorage.length; i++) {
                    accounts.push(JSON.parse(localStorage.getItem(i)));
                }

                for (let k = 0; k < accounts.length; k++) {
                    if (accounts[k][1] == sessionStorage.getItem("currentLogin")) {
                        for (let m = 0; m < accounts[k][4].length; m++) {
                            offers.push(accounts[k][4][m]);
                        }
                    }
                }

                offers.forEach(([title, description, category]) => {
                    if (category == "Programação e Tech") {
                        let listItem = document.createElement("li");
                        let card = document.createElement("a");
                        let cardImage = document.createElement("img");
                        let cardOverlay = document.createElement("div");
                        let cardHeader = document.createElement("div");
                        let cardArc = document.createElement("svg");
                        let cardHeaderText = document.createElement("div");
                        let cardTitle = document.createElement("h3");
                        let cardDescription = document.createElement("p");

                        card.href = "javascript:addProject('" + title + "', '" + description + "')";
                        card.className = "card";

                        cardImage.src = "../img/categorias/software.jpg";
                        cardImage.className = "card-image"

                        cardOverlay.className = "card-overlay";
                        cardHeader.className = "card-header";

                        cardArc.xmlns = "http://www.w3.org/2000/svg";
                        cardArc.className = "card-arc";

                        cardHeaderText.className = "card-header-text";
                        cardTitle.innerText = title;
                        cardTitle.className = "card-title";

                        cardDescription.innerText = description;
                        cardDescription.className = "card-description";

                        cardHeaderText.appendChild(cardTitle);
                        cardHeader.appendChild(cardArc);
                        cardHeader.appendChild(cardHeaderText);
                        cardOverlay.appendChild(cardHeader);
                        cardOverlay.appendChild(cardDescription);

                        card.appendChild(cardImage);
                        card.appendChild(cardOverlay);

                        listItem.appendChild(card);
                        document.getElementById("cards").appendChild(listItem);
                    }

                });
            </script>
            </ul>
        </section>
    </main>

    <!-- FOOTER -->
    <footer>
        <p>Copyright &copy; 2022 | Freelance Tree</p>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../js/main.js"></script>
</body>

</html>